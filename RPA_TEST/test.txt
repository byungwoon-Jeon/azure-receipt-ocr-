Always extract the â€œWeatherâ€ value under the column â€œí˜„ì¥ê¸°ìƒâ€ (Field Weather).
The â€œWeatherâ€ field contains words like Sunny, Cloudy, Rainy, Snowy, Clear, etc.
If the label â€œWeatherâ€ does not explicitly appear, infer it from context within â€œí˜„ì¥ê¸°ìƒ.â€
If no weather information exists, output "Weather": "Not specified".

import json
import logging
import os

logging.basicConfig(level=logging.INFO, format='[%(levelname)s] %(message)s')

def load_links_from_txt(txt_path: str, output_json_path: str):
    try:
        logging.info(f"ğŸ” í…ìŠ¤íŠ¸ íŒŒì¼ ë¡œë”© ì‹œì‘: {txt_path}")

        # íŒŒì¼ ì¡´ì¬ ì—¬ë¶€
        if not os.path.exists(txt_path):
            logging.error("âŒ í…ìŠ¤íŠ¸ íŒŒì¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
            raise FileNotFoundError(f"File not found: {txt_path}")

        # í…ìŠ¤íŠ¸ íŒŒì¼ ì½ê¸°
        with open(txt_path, "r", encoding="utf-8") as f:
            lines = f.readlines()

        # ê°œí–‰ ì œê±° + ë¹ˆ ì¤„ ì œê±°
        links = [line.strip() for line in lines if line.strip()]

        # JSON êµ¬ì¡° ë§Œë“¤ê¸°
        result_json = {
            "links": links
        }

        # JSON ì €ì¥
        with open(output_json_path, "w", encoding="utf-8") as f:
            json.dump(result_json, f, ensure_ascii=False, indent=2)

        logging.info(f"âœ… JSON ë³€í™˜ ì™„ë£Œ: {output_json_path}")
        return result_json

    except Exception as e:
        logging.exception("âŒ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ ë°œìƒ")
        raise e